let rec fib n =
    if n < 3 then 1 else fib (n - 1) + fib (n - 2)

let fib10 = fib 10

let fib n =
    let rec helper n =
        if n < 3 then 1 else helper (n - 1) + helper (n - 2)
    in
    helper n

let fib5 = fib 5

let fib_tailrec n =
  let rec helper a b count =
    if count = n then a
    else helper b (a + b) (count + 1)
  in
  helper 0 1 0

let fib10 = fib_tailrec 10

let fib_cps n =
  let rec helper a b count k =
    if count = n then k a
    else helper b (a + b) (count + 1) k
  in
  helper 0 1 0 (fun x -> x)

let fib_cps10 = fib_cps 10

let rec fix_y f = f (fix_y f)
let rec fix_z f x = f (fix_z f) x

let fib_open self n = if n < 3 then 1 else self (n - 1) + self (n - 2)

let fib_y = fix_y fib_open
let fib_z = fix_z fib_open

let fib_y5 = fib_y 5
let fib_z5 = fib_z 5